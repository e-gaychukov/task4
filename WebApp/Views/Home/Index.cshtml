@using WebApp.Models
@model ApplicationUser[]

@{
    ViewBag.Title = "Таблица пользователей";
}

<div class="row">
    &nbsp;
</div>

@using (Html.BeginForm(null, "Home", FormMethod.Post))
{
    <div class="btn-group">
        <button type="submit" class="btn btn-default btn-sm" formaction="@Url.Action("BlockUsers", "Home")">
            <span class="glyphicon glyphicon-lock"></span> Заблокировать
        </button>
        <button type="submit" class="btn btn-default btn-sm" formaction="@Url.Action("UnblockUsers", "Home")">
            <span class="glyphicon glyphicon-play"></span> Разблокировать
        </button>
        <button type="submit" class="btn btn-default btn-sm" formaction="@Url.Action("DeleteUsers", "Home")">
            <span class="glyphicon glyphicon-remove"></span> Удалить
        </button>
    </div>

    <table class="table table-striped">
        <thead class="thead-dark">
            <tr>
                <th>
                    <input id="selectAll" name="selectAll" type="checkbox" />
                </th>
                <th>
                    Id
                </th>
                <th>
                    Email
                </th>
                <th>
                    Дата регистрации
                </th>
                <th>
                    Последний логин
                </th>
                <th>
                    Статус
                </th>
            </tr>
        </thead>
        <tbody>
            @foreach (var user in Model)
            {
                <tr>
                    <td>
                        <input id="selected" name="selected" type="checkbox" value="@user.Id" />
                    </td>
                    <td>
                        @user.Id
                    </td>
                    <td>
                        @user.Email
                    </td>
                    <td>
                        @user.RegistrationDate
                    </td>
                    <td>
                        @user.LastLogDate
                    </td>
                    <td>
                        @(user.LockoutEnabled ? "Заблокирован" : "Не заблокирован")
                    </td>
                </tr>
            }
        </tbody>
    </table>
}
